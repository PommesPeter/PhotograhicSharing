# 接口文档设计

## 用户

### 登录页面

>请求地址：https://xxxxxxxxx/user/login
>
>请求示例：https://xxxxxxxxx/user?id=admin&passwd=123456
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

|  名称  |  类型  | 必填  |    说明    |
| :----: | :----: | :---: | :--------: |
|   id   | string |  是   | 用户的账户 |
| passwd | string |  是   | 用户的密码 |

#### 返回值

```json
{
    "msg":  "success"
    "data": []
}
```

### 注册页面

>请求地址：https://xxxxxxxxx/user/register
>
>请求示例：https://xxxxxxxxx/user/register?id=admin&passwd=123456
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

|  名称  |  类型  | 必填  |    说明    |
| :----: | :----: | :---: | :--------: |
|   id   | string |  是   | 用户的账户 |
| passwd | string |  是   | 用户的密码 |

#### 返回值

```json
{
    "msg":  "success"
    "data": []
}
```

### 用户信息

>请求地址：https://xxxxxxxxx/user/show_user_info
>
>请求示例：https://xxxxxxxxx/user/show_user_info?id=admin
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

| 名称  |  类型  | 必填  |    说明    |
| :---: | :----: | :---: | :--------: |
|  id   | string |  是   | 用户的账户 |

#### 返回值

```json
{
    "msg": "request success", 
    "data": [ 
        {
        "sex": "", 
        "great": "", 
        "concern": "", 
        "fan": "", 
        "username": "", 
        "introduction": "", 
        "url": "" 
        }
    ]
}
```

### 修改用户信息

>请求地址：https://xxxxxxxxx/user/modify_user_info
>
>请求示例：https://xxxxxxxxx/user/modify_user_info?id=admin&username=ppp&sex=female&introduction=abaabaaba
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

|     名称     |  类型  | 必填  |      说明      |
| :----------: | :----: | :---: | :------------: |
|      id      | string |  是   |   用户的账户   |
|   username   | string |  是   |   用户的昵称   |
|     sex      | string |  是   |   用户的性别   |
| introduction | string |  是   | 用户的个人介绍 |

#### 返回值

修改信息成功

## 说说

### 推荐页面

(说说表随机拉取就行)

>请求地址：https://xxxxxxxxx/shuoshuo/recommended
>
>请求示例：https://xxxxxxxxx/shuoshuo/recommended
>
>请求方式：GET
>
>返回格式：UTF8 JSON


#### 请求参数

无

#### 返回值

```json
{
    "msg": "success",
    "data": [
                {
                "id":"",
                "title":"",
                "iconId":"",
                "author":"",
                "starNum":"",
                "star":"",
                "thumbnail":""
                },
        ]
}
```

返回数据说明

|   名称    |  类型   |        说明        |
| :-------: | :-----: | :----------------: |
|    id     | string  |   说说唯一标识码   |
|   title   | string  |      说说标题      |
|  iconId   | string  |      头像url       |
|  author   | string  |      用户名称      |
|  starNum  |   int   |     说说收藏数     |
|   start   | boolean | 是否被当前用户收藏 |
| thumbnail | string  |     封面图url      |



### 关注页面

(说说表根据当前用户关注的人进行筛选，只显示用户关注的人发表的说说)

>请求地址：https://xxxxxxxxx/shuoshuo/concern
>
>请求示例：https://xxxxxxxxx/shuoshuo/concern?id=1231321
>
>请求方式：GET
>
>返回格式：UTF8 JSON

#### 请求参数

| 名称  |  类型  | 必填  |    说明    |
| :---: | :----: | :---: | :--------: |
|  id   | string |  是   | 用户的账户 |

#### 返回值

```json
{
    "msg":"success",
    "data":[
            {
                "id":"",
                "title":"",
                "iconId":"",
                "author":"",
                "starNum":"",
                "star":"",
                "thumbSnail":""
            },
           ]
}
```

返回数据说明

|    名称    |  类型   |        说明        |
| :--------: | :-----: | :----------------: |
|     id     | string  |   说说唯一标识码   |
|   title    | string  |      说说标题      |
|   iconId   | string  |      头像url       |
|   author   | string  |      用户名称      |
|  starNum   |   int   |     说说收藏数     |
|   start    | boolean | 是否被当前用户收藏 |
| thumbSnail | string  |     封面图url      |


### 说说内容

>请求地址：https://xxxxxxxxx/shuoshuo/detail
>
>请求示例：https://xxxxxxxxx/shuoshuo/detail?id=12312131231231
>
>请求方式：GET
>
>返回格式：UTF8 JSON

#### 请求参数

| 名称  |  类型  | 必填  |      说明      |
| :---: | :----: | :---: | :------------: |
|  id   | string |  是   | 说说唯一标识码 |

#### 返回数据格式

```json
{
    "msg": "success",
    "data": [
            {
                "icon":"",
                "username":"",
                "date":"",
                "follow":"",
                "photos":[],
                "zanStatus":"",
                "zanNum":"",
                "starStatus":"",
                "starNum":"",
                "title":"",
                "description":"",
                "comments":[
                    {
                        "rIcon":"",
                        "rUsername":"",
                        "rNum":"",
                        "rContent":"",
                        "rDate":"",
                        "rStatus":"",
                    }
                ],
            },
  		  ]
}
```

返回数据说明：

|    名称     |  类型   |         说明         |
| :---------: | :-----: | :------------------: |
|    icon     | string  |    作者头像的url     |
|  username   | string  |     作者的用户名     |
|    date     | string  |     说说发表时间     |
|   follow    | boolean | 用户是否已经关注作者 |
|   photos    |  array  |  主要图片的url数组   |
|  zanStatus  | boolean |  用户是否为说说点赞  |
|   zanNum    |   int   |      说说点赞数      |
| starStatus  | string  |   用户是否收藏说说   |
|   starNum   |   int   |      说说收藏数      |
|    title    | string  |       说说标题       |
| description |  text   |     说说详细内容     |
|  comments   |  array  |       评论数组       |
|    rIcon    | string  |    评论用户的头像    |
|  rUsernme   | string  |   评论用户的用户名   |
|    rNum     |   int   |      评论点赞数      |
|  rContent   |  text   |       评论内容       |
|    rDate    | string  |     评论发表时间     |
|   rStatus   | boolean |  用户是否点赞该评论  |


### 点赞

>请求地址：https://xxxxxxxxx/shuoshuo/thumbsup
>
>请求示例：https://xxxxxxxxx/shuoshuo/thumbsup?id=1231213123123&user=21312321&add=true
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

| 名称  |  类型   | 必填  |              说明               |
| :---: | :-----: | :---: | :-----------------------------: |
|  id   | string  |  是   |         说说唯一标识码          |
| user  | string  |  是   |             用户ID              |
|  add  | boolean |  是   | true表示添加，false表示取消点赞 |

#### 返回值

要求返回状态(记得点赞数+1，或-1)，不用返回数值,我在ui上微调就行，记得在点赞收藏表添加记录

### 关注作者

>请求地址：https://xxxxxxxxx/shuoshuo/follow
>
>请求示例：https://xxxxxxxxx/shuoshuo/follow?id=1231213123123&user=2131278319&author=2137218312&add=true
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

|  名称  |  类型   | 必填  |              说明               |
| :----: | :-----: | :---: | :-----------------------------: |
|   id   | string  |  是   |         说说唯一标识码          |
|  user  | string  |  是   |             用户id              |
| author | string  |  是   |             作者id              |
|  add   | boolean |  是   | true表示添加，false表示取消点赞 |

要求返回状态，关注就是添加记录或者删除记录，记得判断是不是关注了自己

### 说说收藏

>请求地址：https://xxxxxxxxx/shuoshuo/favor
>
>请求示例：https://xxxxxxxxx/shuoshuo/favor?id=1231213123123&user=122131241&add=true
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

| 名称  |  类型   | 必填  |              说明               |
| :---: | :-----: | :---: | :-----------------------------: |
|  id   | string  |  是   |         说说唯一标识码          |
| user  | string  |  是   |             用户ID              |
|  add  | boolean |  是   | true表示添加，false表示取消点赞 |


#### 返回值

要求返回状态(记得点赞数+1，或-1)，不用返回数值,我在ui上微调就行，记得在点赞收藏表添加记录


### 发布说说

>请求地址：https://xxxxxxxxx/shuoshuo/publish
>
>请求示例：https://xxxxxxxxx/shuoshuo/publish?id=xxx&photos=xxx&title=test&description=xxxx&topic=xxxx&category=xxxx
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数 

|    名称     |  类型  | 必填  |     说明      |
| :---------: | :----: | :---: | :-----------: |
|     id      | string |  是   |    用户ID     |
|    photo    | array  |  是   | 图片的url数组 |
|    title    | string |  是   |   说说标题    |
| description | string |  是   |  说说的描述   |
|    topic    | string |  是   |  说说的话题   |
|  category   | string |  是   |  说说的类别   |

## 图像

## 评论

### 评论点赞

>请求地址：https://xxxxxxxxx/comment/thumbsup
>
>请求示例：https://xxxxxxxxx/comment/thumbsup?id=1231213123123&user=2186371298312&add=true
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数

| 名称  |  类型   | 必填  |              说明               |
| :---: | :-----: | :---: | :-----------------------------: |
|  id   | string  |  是   |         说说唯一标识码          |
| user  | string  |  是   |             用户ID              |
|  add  | boolean |  是   | true表示添加，false表示取消点赞 |

#### 返回值

要求返回状态(记得点赞数+1，或-1)，不用返回数值,我在ui上微调就行，记得在点赞表添加记录


### 发表评论

>请求地址：https://xxxxxxxxx/comment/publish_comment
>
>请求示例：https://xxxxxxxxx/comment/publish_comment?id=1231213123123&user=2131278319&content=nmsl
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数 

|  名称   |  类型  | 必填  |      说明      |
| :-----: | :----: | :---: | :------------: |
|   id    | string |  是   | 说说唯一标识码 |
|  user   | string |  是   |     用户id     |
| content | string |  是   |    评论内容    |

#### 返回值

要求返回状态，数据库添加评论记录

### 获取评论

>请求地址：https://xxxxxxxxx/comment/get_comment
>
>请求示例：https://xxxxxxxxx/comment/get_comment?id=1231213123123
>
>请求方式：POST
>
>返回格式：UTF8 JSON

#### 请求参数 

| 名称  |  类型  | 必填  |      说明      |
| :---: | :----: | :---: | :------------: |
|  id   | string |  是   | 说说唯一标识码 |

#### 返回值

```json
{
    "date": item[0], 
    "thumbsupNum": item[1], 
    "content": item[2], 
    "author": item[3]
}
```